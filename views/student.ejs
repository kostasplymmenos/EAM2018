<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Eudoxus</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.js"></script>
    <link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <link rel="stylesheet" type="text/css" href="styles.css">
  </head>
  <body style="background-color:#ebeff1">
    <nav class="navbar navbar-default" style="background-color:rgb(36, 42, 49);">
      <a class="navbar-brand" style= "color:white" href="/">
        <!-- <img src="eudoxus_logo.png" width="70" height="50" class="d-inline-block align-top" alt=""> -->
        Εύδοξος
      </a>

      <form action="/login" method="post" class="form-inline">
        <input name="username" class="form-control mr-sm-2" type="email" placeholder="Your Email">
        <input name="password" class="form-control mr-sm-2" type="password" placeholder="Your Password">
        <button class="btn btn-light my-2 my-sm-0" name="loginbtn" type="submit">Login</button>
      </form>

      <ul style="margin-bottom:0px">
            <a href="/help">
                <button class="btn btn-default btn-light" type="button" name="signup">Εγγραφή</button>
              </a>
              <a href="/help">
                <button class="btn btn-default btn-light" type="button" name="signup">Προφίλ</button>
              </a>
              <a href="/help">
                <button class="btn btn-default btn-light" type="button" name="signup">Βοήθεια</button>
              </a>
      </ul>
      
      
    </nav>

<!-- Nav tabs -->
<div class="nav flex-column nav-pills col-2" id="myTab" role="tablist" aria-orientation="vertical" style="float:left; background-color: rgb(65, 74, 85); height: -webkit-fill-available; padding-right: 0px">
    <li><br></li>
    <li class="nav-item" id="lihome">
        <a class="nav-link active" id="home-tab" data-toggle="tab" href="#home" role="tab" aria-controls="home" aria-selected="true">Αρχική Σελίδα</a>
    </li>
    <li class="nav-item" id="lisearch">
        <a class="nav-link" id="search-tab" data-toggle="tab" href="#search" role="tab" aria-controls="search" aria-selected="false">Αναζήτηση</a>
    </li>
    <li class="nav-item" id="librowse">
        <a class="nav-link" id="browse-tab" data-toggle="tab" href="#browse" role="tab" aria-controls="browse" aria-selected="false">Πλοήγηση</a>
    </li>
    <li class="nav-item" id="liinfo">
        <a class="nav-link" id="info-tab" data-toggle="tab" href="#info" role="tab" aria-controls="info" aria-selected="false">Πληροφορίες</a>
    </li>
</div>
<!-- Tab panes -->
<div class="tab-content col-9" id="v-pills-tabContent" style="float:left;padding: 0 0 0 0;min-width: 83%;">
    <div class="tab-pane active" id="home" role="tabpanel" aria-labelledby="home-tab" style="background-image:url(books.jpg);min-height: -webkit-fill-available;
    ;background-size: 100% 100%;">
    <br>
        <div id="homeContent"class="p-5"style="background-color:rgba(6, 4, 12, 0.694); color: white; width: 50%; margin-top: 10%; margin-left: 10%; border-radius:10px">
                <h4>Καλώς ήρθες στην αρχική σελίδα των φοιτητών!</h4> <br>
                <li>
                    Εδώ μπορείς να δημιουργήσεις λογαριασμό πατώντας "Εγγραφή" πάνω δεξία!
                </li>
                <li>
                    Αν είσαι ήδη εγγεγραμμένος μπορείς να διαχειριστείς το προφίλ σου και να δηλώσεις συγγράμματα στην καρτέλα "Δήλωση Συγγραμμάτων". 
                </li>
                <li>
                    Μπορείς επίσης να ψάξεις για συγγράμματα στην βάση συγγραμμάτων πατώντας αναζήτηση ή πλοήγηση.
                </li>
                <li>
                    Για οποιαδήποτε πληροφορία, επισκέψου την καρτέλα "Πληροφορίες".
                </li>
                
                
        </div>
        
    </div>
    <div class="tab-pane" id="search" role="tabpanel" aria-labelledby="search-tab" style="background-color:rgb(221, 221, 221); background-size: 100% 100%;min-height: -webkit-fill-available;display: flow-root">
        <div id="searchContent"class="p-5"style="background-color:rgba(6, 4, 12, 0.694); color: white; width: 80%; margin-top: 10%; margin-left: 10%; border-radius:10px">
                <h4 style="text-align:center">Αναζητείστε εδώ το σύγγραμμα που επιθυμείτε!</h4>
                <hr>
                <form id="searchBook" method="" action="" style="width:75%;" class="m-auto">
                        <div class="form-row">
                          <div class="form-group col-md-6">
                            <label for="inputEmail4">Τίτλος</label>
                            <input type="text" class="form-control" id="inputTitle" placeholder="Book Title">
                          </div>
                          <div class="form-group col-md-6">
                            <label for="inputPassword4">Συγγραφέας</label>
                            <input type="text" class="form-control" id="inputAuthor" placeholder="Book Author">
                          </div>
                        </div>
                        <div class="form-group">
                          <label for="inputAddress">ISBN</label>
                          <input type="text" class="form-control" id="inputISBN" placeholder="Book ISBN">
                        </div>
                        <div class="form-row">
                          <div class="form-group col-md-6">
                            <label for="inputCity">Εκδότης</label>
                            <input type="text" class="form-control" id="inputPublisher">
                          </div>
                          <div class="form-group col-md-4">
                            <label for="inputState">Κατηγορία</label>
                            <select id="inputState" class="form-control">
                              <option selected>Choose...</option>
                              <option>...</option>
                            </select>
                          </div>
                          <div class="form-group col-md-2">
                            <label for="inputZip">Κωδικός Βιβλίου</label>
                            <input type="text" class="form-control" id="inputNo">
                          </div>
                        </div>
                        <button id="submitSearch" type="submit" class="btn btn-primary">Αναζήτηση</button>
                      </form>
                <div id="searchResults" hidden>
                    <h5>Results:</h5>

                </div>
                
        </div>
    </div>
    <div class="tab-pane" id="browse" role="tabpanel" aria-labelledby="browse-tab">
        33..
    </div>
    <div class="tab-pane" id="info" role="tabpanel" aria-labelledby="info-tab">
        44..
    </div>
</div>

      

<script type="text/javascript">
$('#home-tab').on('click', function (e) {
  e.preventDefault()
  $(this).tab('show')
  $(this).addClass('active')

  $('#search-tab').removeClass('active')
  $('#lisearch').removeClass('active')

  $('#browse-tab').removeClass('active')
  $('#librowse').removeClass('active')

  $('#info-tab').removeClass('active')
  $('#liinfo').removeClass('active')


})
$('#search-tab').on('click', function (e) {
  e.preventDefault()
  $(this).tab('show')
  $(this).addClass('active')

  $('#home-tab').removeClass('active')
  $('#lihome').removeClass('active')

  $('#browse-tab').removeClass('active')
  $('#librowse').removeClass('active')

  $('#info-tab').removeClass('active')
  $('#liinfo').removeClass('active')

//   var xhttp = new XMLHttpRequest();
//   xhttp.onreadystatechange = function() {
//     if (this.readyState == 4 && this.status == 200) {
//         document.getElementById("searchContent").innerHTML = this.responseText;
//     }
//   };
//   xhttp.open("GET", "/student/search", true);
//   xhttp.send();

})
$('#browse-tab').on('click', function (e) {
  e.preventDefault()
  $(this).tab('show')
  $(this).addClass('active')

  $('#search-tab').removeClass('active')
  $('#lisearch').removeClass('active')
  $('#home-tab').removeClass('active')
  $('#lihome').removeClass('active')

  $('#info-tab').removeClass('active')
  $('#liinfo').removeClass('active')

})

$('#info-tab').on('click', function (e) {
  e.preventDefault()
  $(this).tab('show')
  $(this).addClass('active')

  $('#search-tab').removeClass('active')
  $('#lisearch').removeClass('active')
  $('#home-tab').removeClass('active')
  $('#lihome').removeClass('active')

  $('#browse-tab').removeClass('active')
  $('#librowse').removeClass('active')

})

$('#submitSearch').on('click', (e) => {
        
        e.preventDefault()
        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200) {
                document.getElementById("searchResults").innerHTML = this.responseText;
                document.getElementById("searchResults").removeAttribute('hidden')
            }
        };
        params = "book"
        title = $('#inputTitle').val()
        author = $('#inputAuthor').val()
        isbn = $('#inputISBN').val()
        publisher = $('#inputPublisher').val()
        console.log(title);
        
        if( title )
            params = params + "?title=" + title
        if( author )
            params = params + "?author=" + author
            
            
        xhttp.open("GET", "/student/search/" + params, true);
        xhttp.send();
    })

</script>
    
</body>
</html>